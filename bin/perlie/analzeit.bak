#!/bin/perl

our @DD = (
["gh2-ps2", "Shout at the Devil",                  "shoutatthedevil.mid"],
["gh2-ps2", "Mother",                              "mother.mid"],
["gh2-ps2", "Surrender",                           "surrender.mid"],
["gh2-ps2", "Woman",                               "woman.mid"],
["gh2-ps2", "Tonight I'm Gonna Rock you Tonight",  "tonightimgonna.mid"],
["gh2-ps2", "Strutter",                            "strutter.mid"],
["gh2-ps2", "Heart Shaped Box",                    "heartshapedbox.mid"],
["gh2-ps2", "Message in a Bottle",                 "messageinabottle.mid"],
["gh2-ps2", "You Really Got Me",                   "youreallygotme.mid"],
["gh2-ps2", "Carry on Wayward Son",                "carryonwayward.mid"],
["gh2-ps2", "Monkey Wrench",                       "monkeywrench.mid"],
["gh2-ps2", "Them Bones",                          "thembones.mid"],
["gh2-ps2", "Search and Destroy",                  "searchanddestroy.mid"],
["gh2-ps2", "Tattooed Love Boys",                  "tattooedloveboys.mid"],
["gh2-ps2", "War Pigs",                            "warpigs.mid"],
["gh2-ps2", "Cherry Pie",                          "cherrypie.mid"],
["gh2-ps2", "Who Was in my Room Last Night",       "whowasinmyroom.mid"],
["gh2-ps2", "Girlfriend",                          "girlfriend.mid"],
["gh2-ps2", "Can't You Hear Me Knockin'",          "cantyouhearme.mid"],
["gh2-ps2", "Sweet Child O' Mine",                 "sweetchild.mid"],
["gh2-x360", "Surrender",                            "surrender.mid"],
["gh2-x360", "Possum Kingdom",                       "possum.mid"],
["gh2-x360", "Heart Shaped Box",                     "heartshapedbox.mid"],
["gh2-x360", "Salvation",                            "salvation.mid"],
["gh2-x360", "Strutter",                             "strutter.mid"],
["gh2-x360", "Shout at the Devil",                   "shoutatthedevil.mid"],
["gh2-x360", "Mother",                               "mother.mid"],
["gh2-x360", "Life Wasted",                          "lifewasted.mid"],
["gh2-x360", "Cherry Pie",                           "cherrypie.mid"],
["gh2-x360", "Woman",                                "woman.mid"],
["gh2-x360", "You Really Got Me",                    "youreallygotme.mid"],
["gh2-x360", "Tonight I'm Gonna Rock You Tonight",   "tonightimgonna.mid"],
["gh2-x360", "Carry On Wayward Son",                 "carryonwayward.mid"],
["gh2-x360", "Search and Destroy",                   "searchanddestroy.mid"],
["gh2-x360", "Message in a Bottle",                  "messageinabottle.mid"],
["gh2-x360", "Billion Dollar Babies",                "billiondollar.mid"],
["gh2-x360", "Them Bones",                           "thembones.mid"],
["gh2-x360", "War Pigs",                             "warpigs.mid"],
["gh2-x360", "Monkey Wrench",                        "monkeywrench.mid"],
["gh2-x360", "Hush",                                 "hush.mid"],
["gh2-x360", "Girlfriend",                           "girlfriend.mid"],
["gh2-x360", "Who Was in My Room Last Night",        "whowasinmyroom.mid"],
["gh2-x360", "Can't You Hear Me Knockin'",           "cantyouhearme.mid"],
["gh2-x360", "Sweet Child O' Mine",                  "sweetchild.mid"],
["gh-ps2", "I Love Rock & Roll",                     "iloverockandroll.mid"],
["gh-ps2", "I Wanna Be Sedated",                     "iwannabesedated.mid"],
["gh-ps2", "Thunder Kiss 65",                        "thunderkiss65.mid"],
["gh-ps2", "Smoke On The Water",                     "smokeonthewater.mid"],
["gh-ps2", "Infected",                               "infected.mid"],
["gh-ps2", "Iron Man",                               "ironman.mid"],
["gh-ps2", "More Than A Feeling",                    "morethanafeeling.mid"],
["gh-ps2", "You Got Another Thing Comin'",           "yougotanotherthingcomin.mid"],
["gh-ps2", "Take Me Out",                            "takemeout.mid"],
["gh-ps2", "Sharp Dressed Man",                      "sharpdressedman.mid"],
["gh-ps2", "Killer Queen",                           "killerqueen.mid"],
["gh-ps2", "Hey You",                                "heyyou.mid"],
["gh-ps2", "Stellar",                                "stellar.mid"],
["gh-ps2", "Heart Full of Black",                    "heartfullofblack.mid"],
["gh-ps2", "Symphony Of Destruction",                "symphofdestruction.mid"],
["gh-ps2", "Ziggy Stardust",                         "ziggystardust.mid"],
["gh-ps2", "Fat Lip",                                "fatlip.mid"],
["gh-ps2", "Cochise",                                "cochise.mid"],
["gh-ps2", "Take It Off",                            "takeitoff.mid"],
["gh-ps2", "Unsung",                                 "unsung.mid"],
["ghrt80s-ps2", "(Bang Your Head) Metal Health",     "bangyourhead.mid"],
["ghrt80s-ps2", "We Got The Beat",                   "wegotthebeat.mid"],
["ghrt80s-ps2", "I Ran (So Far Away)",               "iran.mid"],
["ghrt80s-ps2", "Balls To The Wall",                 "ballstothewall.mid"],
["ghrt80s-ps2", "18 And Life",                       "18andlife.mid"],
["ghrt80s-ps2", "No One Like You",                   "noonelikeyou.mid"],
["ghrt80s-ps2", "Shakin'",                           "shakin.mid"],
["ghrt80s-ps2", "Heat Of The Moment",                "heatofthemoment.mid"],
["ghrt80s-ps2", "Radar Love",                        "radarlove.mid"],
["ghrt80s-ps2", "Because, It's Midnite",             "becauseitsmidnite.mid"],
["ghrt80s-ps2", "Holy Diver",                        "holydiver.mid"],
["ghrt80s-ps2", "Turning Japanese",                  "turningjapanese.mid"],
["ghrt80s-ps2", "Hold On Loosely",                   "holdonloosely.mid"],
["ghrt80s-ps2", "The Warrior",                       "thewarrior.mid"],
["ghrt80s-ps2", "I Wanna Rock",                      "iwannarock.mid"],
["ghrt80s-ps2", "What I Like About You ",            "whatilikeaboutyou.mid"],
["ghrt80s-ps2", "Synchronicity II",                  "synchronicity2.mid"],
["ghrt80s-ps2", "Ballroom Blitz",                    "ballroomblitz.mid"],
["ghrt80s-ps2", "Only A Lad",                        "onlyalad.mid"],
["ghrt80s-ps2", "Round And Round",                   "roundandround.mid"],
["ghrt80s-ps2", "Ain't Nothin But A Good Time",      "aintnothinbut.mid"],
["ghrt80s-ps2", "Lonely Is The Night",               "lonelyisthenight.mid"],
["ghrt80s-ps2", "Bathroom Wall",                     "bathroomwall.mid"],
["ghrt80s-ps2", "Los Angeles",                       "losangeles.mid"],
);


our @ALG = qw(zero-zero twenty-twenty forty-forty sixty-sixty eighty-eighty twenty-zero
              forty-twenty sixty-forty eighty-sixty forty-zero sixty-twenty eighty-forty
              sixty-zero eighty-twenty eighty-zero );

our @DIFF = qw(expert hard medium easy);
our $WEBROOT = "/cygdrive/c/Web/GuitarHero";

foreach my $game (qw(gh2-ps2 gh2-x360 gh-ps2 ghrt80s-ps2)) {
    my @entries = grep { $_->[0] eq $game } @DD;
    foreach my $diff (@DIFF) {
	foreach my $ra (@entries) {
	    my $mid = $ra->[2];
	    my $basefile = $mid; $basefile =~ s/.mid$//;
	    my @res = ();

	    foreach my $alg (@ALG) {
	        my $filename = "$WEBROOT/$game/$diff/$basefile.$alg.summary.html";
	        open AA, $filename;
	        my @aa = <AA>; chomp @aa;
	        $aa[18] =~ /Score\s+(\d+)/;
	        my $score = $1;
	        push @res, $score;
	    }

	    printf "%-12s %-6s %-35s %6d %6d %6d %6d %6d %6d %6d %6d %6d %6d %6d %6d %6d %6d %6d\n",
	           $game, $diff, $mid, @res;
       }
    }
}


